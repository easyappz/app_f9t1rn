messages:
  get:
    summary: Get chat messages
    description: Retrieve paginated list of chat messages with author information and timestamps
    tags:
      - Messages
    x-isSecure: true
    parameters:
      - name: page
        in: query
        required: false
        schema:
          type: integer
          default: 1
          example: 1
        description: Page number for pagination
      - name: page_size
        in: query
        required: false
        schema:
          type: integer
          default: 50
          example: 50
        description: Number of messages per page
    responses:
      '200':
        description: Successfully retrieved messages
        content:
          application/json:
            schema:
              type: object
              properties:
                count:
                  type: integer
                  example: 100
                  description: Total number of messages
                next:
                  type: string
                  nullable: true
                  example: "/api/messages/?page=2"
                  description: URL to next page
                previous:
                  type: string
                  nullable: true
                  example: null
                  description: URL to previous page
                results:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: integer
                        example: 1
                      text:
                        type: string
                        example: "Hello, everyone!"
                      author:
                        type: string
                        example: "john_doe"
                        description: Username of the message author
                      created_at:
                        type: string
                        format: date-time
                        example: "2024-01-15T10:30:00Z"
                    required:
                      - id
                      - text
                      - author
                      - created_at
      '401':
        description: Unauthorized - authentication required
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: "Authentication credentials were not provided"

  post:
    summary: Send a new message
    description: Create and send a new message to the chat
    tags:
      - Messages
    x-isSecure: true
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              text:
                type: string
                example: "Hello, everyone!"
                description: Message text content
            required:
              - text
    responses:
      '201':
        description: Message successfully created
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                  example: 1
                text:
                  type: string
                  example: "Hello, everyone!"
                author:
                  type: string
                  example: "john_doe"
                  description: Username of the message author
                created_at:
                  type: string
                  format: date-time
                  example: "2024-01-15T10:30:00Z"
              required:
                - id
                - text
                - author
                - created_at
      '400':
        description: Bad request - invalid message data
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: "Text field is required"
      '401':
        description: Unauthorized - authentication required
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: "Authentication credentials were not provided"